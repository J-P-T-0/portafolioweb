<!DOCTYPE html>
<html lang="es">
<head>
    <title>Reto 2</title>
    <meta charset="UTF8">
</head>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<body>
    <form id="datos" onsubmit="return graf();">
        <p>Inicio: </p><input type="number" id="inicio" name="inicio">
        <p>Fin: </p><input type="number" id="fin" name="fin">
        <input type="submit">
    </form>
    <div id="myPlot" style="width:100%;max-width:700px"></div>
    <script type = "text/javascript">
        function graf(){
            var ini=parseInt(document.forms[0].inicio.value);
            var fini=parseInt(document.forms[0].fin.value);
            if(ini>fini||ini==fini){
                document.getElementById("myPlot").innerHTML="No se puede graficar";
            }else{
                let exp = "Math.sin(x)";
                //let exp="Math.cos(x)";
                //let exp="Math.pow(x/(x-2)+x/(x+2),2)"
                // Generate values
                const xValues = [];
                const yValues = [];
                for (let x = ini; x <=fini; x += 0.1) {
                    xValues.push(x);
                    yValues.push(eval(exp));
                }
                // Display using Plotly
                const data = [{ x: xValues, y: yValues, mode: "lines" }];
                const layout = { title: "y = " + exp };
                Plotly.newPlot("myPlot", data, layout);
            }
            return false;
        }
        
    </script>
</body>
</html>